<!-- ========================================
     7. file-create.html (íŒŒì¼ ì—…ë¡œë“œ)
     ê²½ë¡œ: src/main/resources/templates/file-create.html
     ======================================== -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŒŒì¼ ì—…ë¡œë“œ - SmartTranslator</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
    <header>
        <div class="logo">
            <div class="logo-icon">ğŸŒ</div>
            <h1>SmartTranslator</h1>
        </div>
    </header>

    <div class="main-content">
        <h2 class="page-title">ğŸ“¤ íŒŒì¼ ì—…ë¡œë“œ</h2>

        <form th:action="@{/files/create}" th:object="${file}" method="post" class="form-card">
            <div class="form-group">
                <label for="file_name">íŒŒì¼ëª… *</label>
                <input type="text" id="file_name" th:field="*{file_name}" required
                       placeholder="ë¬¸ì„œ.pdf" class="form-input">
            </div>

            <div class="form-group">
                <label for="file_path">íŒŒì¼ ê²½ë¡œ *</label>
                <input type="text" id="file_path" th:field="*{file_path}" required
                       placeholder="/uploads/document.pdf" class="form-input">
            </div>

            <div class="form-group">
                <label for="file_type">íŒŒì¼ íƒ€ì… *</label>
                <select id="file_type" th:field="*{file_type}" required class="form-input">
                    <option value="">íŒŒì¼ íƒ€ì… ì„ íƒ</option>
                    <option value="PDF">PDF</option>
                    <option value="DOCX">Word ë¬¸ì„œ</option>
                    <option value="TXT">í…ìŠ¤íŠ¸ íŒŒì¼</option>
                    <option value="XLSX">Excel íŒŒì¼</option>
                </select>
            </div>

            <div class="file-upload-area">
                <div class="upload-icon">ğŸ“</div>
                <p>íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</p>
                <input type="file" id="fileInput" style="display: none;">
                <button type="button" onclick="document.getElementById('fileInput').click()"
                        class="btn btn-secondary">íŒŒì¼ ì„ íƒ</button>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">âœ… ì—…ë¡œë“œ</button>
                <a href="/files" class="btn btn-secondary">ì·¨ì†Œ</a>
            </div>
        </form>
    </div>
</div>

<style>
    .file-upload-area {
        text-align: center;
        padding: 60px;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        border-radius: 15px;
        border: 3px dashed #ccc;
        margin: 30px 0;
        transition: all 0.3s;
    }

    .file-upload-area:hover {
        border-color: #667eea;
        background: linear-gradient(135deg, #e8ecf7 0%, #b8c5e0 100%);
    }

    .upload-icon {
        font-size: 60px;
        margin-bottom: 20px;
    }

    .file-upload-area p {
        color: #666;
        margin-bottom: 20px;
    }
</style>

<script>
    // íŒŒì¼ ì„ íƒ ì‹œ íŒŒì¼ëª… ìë™ ì…ë ¥
    document.getElementById('fileInput').addEventListener('change', function(e) {
        if (e.target.files.length > 0) {
            const file = e.target.files[0];
            document.getElementById('file_name').value = file.name;

            // íŒŒì¼ íƒ€ì… ìë™ ì„ íƒ
            const ext = file.name.split('.').pop().toUpperCase();
            const fileTypeSelect = document.getElementById('file_type');

            if (ext === 'PDF') fileTypeSelect.value = 'PDF';
            else if (ext === 'DOCX' || ext === 'DOC') fileTypeSelect.value = 'DOCX';
            else if (ext === 'TXT') fileTypeSelect.value = 'TXT';
            else if (ext === 'XLSX' || ext === 'XLS') fileTypeSelect.value = 'XLSX';
        }
    });

    // ë“œë˜ê·¸ ì•¤ ë“œë¡­
    const uploadArea = document.querySelector('.file-upload-area');

    uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.style.borderColor = '#667eea';
    });

    uploadArea.addEventListener('dragleave', () => {
        uploadArea.style.borderColor = '#ccc';
    });

    uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.style.borderColor = '#ccc';

        const files = e.dataTransfer.files;
        if (files.length > 0) {
            const file = files[0];
            document.getElementById('file_name').value = file.name;
        }
    });
</script>
</body>
</html>